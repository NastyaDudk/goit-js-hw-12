{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport Axios from 'axios';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const galleryEl = document.getElementById('gallery');\n  const loadMoreBtn = document.getElementById('load-more');\n  const loaderEl = document.querySelector('.loader');\n  const perPage = 15;\n  let page = 1;\n  let currentQuery = '';\n\n  const apiUrl = 'https://pixabay.com/api/';\n  const apiKey = '42153847-0f7baac2d7b2e92d7ce6bbe8e';\n\n  const lightbox = new SimpleLightbox('.gallery a');\n\n  loadMoreBtn.addEventListener('click', searchImages);\n\n  async function searchImages() {\n    try {\n      const query = '';\n      const response = await Axios.get(apiUrl, {\n        params: {\n          key: apiKey,\n          q: query,\n          per_page: perPage,\n          page: page,\n        },\n      });\n\n      const data = response.data;\n\n      if (data.hits.length > 0) {\n        const images = data.hits;\n        const append = page > 1;\n\n        renderImages(images, append);\n        page++;\n      } else {\n        throw new Error('No images found');\n      }\n    } catch (error) {\n      console.log(error);\n      renderError('Error: Failed to fetch images');\n    }\n  }\n\n  function renderImages(array, append = false) {\n    const markup = array\n      .map(\n        ({\n          largeImageURL,\n          webformatURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => {\n          return `\n          <div class=\"gallery\">\n            <a href=\"${largeImageURL}\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" width=\"360\" height=\"300\" />\n              <ul class=\"info-cards-container\">\n                <li class=\"info-cards-elements\">likes<span>${likes}</span></li>\n                <li class=\"info-cards-elements\">views<span>${views}</span></li>\n                <li class=\"info-cards-elements\">comments<span>${comments}</span></li>\n                <li class=\"info-cards-elements\">downloads<span>${downloads}</span></li>\n              </ul>\n            </a>\n          </div>\n        `;\n        }\n      )\n      .join('');\n\n    if (append) {\n      galleryEl.insertAdjacentHTML('beforeend', markup);\n    } else {\n      galleryEl.innerHTML = markup;\n    }\n\n    lightbox.refresh();\n  }\n\n  function renderError(error) {\n    const errorContainer = document.getElementById('error-container');\n    const errorElement = document.createElement('p');\n    errorElement.classList.add('error-message');\n    errorElement.textContent = error;\n    errorContainer.innerHTML = '';\n    errorContainer.appendChild(errorElement);\n    errorContainer.style.display = 'block';\n  }\n\n  searchImages();\n});\n"],"names":["galleryEl","loadMoreBtn","perPage","page","apiUrl","apiKey","lightbox","SimpleLightbox","searchImages","query","data","Axios","images","append","renderImages","error","renderError","array","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","errorContainer","errorElement"],"mappings":"6vBAMA,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,MAAMA,EAAY,SAAS,eAAe,SAAS,EAC7CC,EAAc,SAAS,eAAe,WAAW,EACtC,SAAS,cAAc,SAAS,EACjD,MAAMC,EAAU,GAChB,IAAIC,EAAO,EAGX,MAAMC,EAAS,2BACTC,EAAS,qCAETC,EAAW,IAAIC,EAAe,YAAY,EAEhDN,EAAY,iBAAiB,QAASO,CAAY,EAElD,eAAeA,GAAe,CAC5B,GAAI,CACF,MAAMC,EAAQ,GAURC,GATW,MAAMC,EAAM,IAAIP,EAAQ,CACvC,OAAQ,CACN,IAAKC,EACL,EAAGI,EACH,SAAUP,EACV,KAAMC,CACP,CACT,CAAO,GAEqB,KAEtB,GAAIO,EAAK,KAAK,OAAS,EAAG,CACxB,MAAME,EAASF,EAAK,KACdG,EAASV,EAAO,EAEtBW,EAAaF,EAAQC,CAAM,EAC3BV,GACR,KACQ,OAAM,IAAI,MAAM,iBAAiB,CAEpC,OAAQY,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBC,EAAY,+BAA+B,CAC5C,CACF,CAED,SAASF,EAAaG,EAAOJ,EAAS,GAAO,CAC3C,MAAMK,EAASD,EACZ,IACC,CAAC,CACC,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IACiB;AAAA;AAAA,uBAEMN;AAAA,0BACGC,WAAsBC,aAAgBA;AAAA;AAAA,6DAEHC;AAAA,6DACAC;AAAA,gEACGC;AAAA,iEACCC;AAAA;AAAA;AAAA;AAAA,SAM1D,EACA,KAAK,EAAE,EAENZ,EACFb,EAAU,mBAAmB,YAAakB,CAAM,EAEhDlB,EAAU,UAAYkB,EAGxBZ,EAAS,QAAO,CACjB,CAED,SAASU,EAAYD,EAAO,CAC1B,MAAMW,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAe,SAAS,cAAc,GAAG,EAC/CA,EAAa,UAAU,IAAI,eAAe,EAC1CA,EAAa,YAAcZ,EAC3BW,EAAe,UAAY,GAC3BA,EAAe,YAAYC,CAAY,EACvCD,EAAe,MAAM,QAAU,OAChC,CAEDlB,GACF,CAAC"}