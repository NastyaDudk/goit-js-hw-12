{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('form#search-form');\nconst gallery = document.querySelector('div.gallery');\nconst loadMoreBtn = document.querySelector('button.load-more');\n\nform.addEventListener('submit', onSubmit);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  loadMoreBtn.classList.add('is-hidden');\n  gallery.innerHTML = '';\n  imageApiService.query = e.currentTarget.elements.searchQuery.value.trim();\n  imageApiService.resetPage();\n  if (imageApiService.query === '') {\n    Notify.info('Please enter your search query!');\n    return;\n  } else {\n    imageApiService\n      .getImage()\n      .then(data => {\n        let queriesArray = data.hits;\n        if (queriesArray.length === 0) {\n          Notify.failure(\n            'Sorry, there are no images matching your search query. Please try again.'\n          );\n        } else if (queriesArray.length < 40) {\n          renderImages(queriesArray);\n          loadMoreBtn.classList.add('is-hidden');\n          Notify.success(`Hooray! We found ${data.totalHits} images.`);\n          // Notify.info(\n          //   \"We're sorry, but you've reached the end of search results.\"\n          // );\n        } else {\n          renderImages(queriesArray);\n          Notify.success(`Hooray! We found ${data.totalHits} images.`);\n          loadMoreBtn.classList.remove('is-hidden');\n        }\n      })\n      .catch(error => {\n        Notify.info(\n          \"We're sorry, but you've reached the end of search results.\"\n        );\n        console.log(error);\n      });\n  }\n}\n\nfunction onLoadMore() {\n  imageApiService.getImage().then(data => {\n    let queriesArray = data.hits;\n    renderImages(queriesArray);\n    if (queriesArray.length < 40) {\n      loadMoreBtn.classList.add('is-hidden');\n      Notify.info(\"We're sorry, but you've reached the end of search results.\");\n    }\n  });\n}\n\nfunction renderImages(queriesArray) {\n  const markup = queriesArray\n    .map(item => {\n      return `<div class=\"photo-card\">\n  <div class=\"thumb\"><img src=\"${item.webformatURL}\" alt=\"${item.tags}\" loading=\"lazy\" /></div>\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b><span>${item.likes}</span>\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b><span>${item.views}</span>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b><span>${item.comments}</span>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b><span>${item.downloads}</span>\n    </p>\n  </div>\n</div>`;\n    })\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["form","gallery","loadMoreBtn","onSubmit","onLoadMore","e","Notify","data","queriesArray","renderImages","error","markup","item"],"mappings":"svBAEA,MAAMA,EAAO,SAAS,cAAc,kBAAkB,EAChDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAc,SAAS,cAAc,kBAAkB,EAE7DF,EAAK,iBAAiB,SAAUG,CAAQ,EACxCD,EAAY,iBAAiB,QAASE,CAAU,EAEhD,SAASD,EAASE,EAAG,CAMnB,GALAA,EAAE,eAAc,EAChBH,EAAY,UAAU,IAAI,WAAW,EACrCD,EAAQ,UAAY,GACpB,gBAAgB,MAAQI,EAAE,cAAc,SAAS,YAAY,MAAM,OACnE,gBAAgB,UAAS,EACrB,gBAAgB,QAAU,GAAI,CAChCC,SAAO,KAAK,iCAAiC,EAC7C,MACJ,MACI,gBACG,SAAU,EACV,KAAKC,GAAQ,CACZ,IAAIC,EAAeD,EAAK,KACpBC,EAAa,SAAW,EAC1BF,EAAAA,OAAO,QACL,0EACZ,EACmBE,EAAa,OAAS,IAC/BC,EAAaD,CAAY,EACzBN,EAAY,UAAU,IAAI,WAAW,EACrCI,EAAM,OAAC,QAAQ,oBAAoBC,EAAK,mBAAmB,IAK3DE,EAAaD,CAAY,EACzBF,EAAM,OAAC,QAAQ,oBAAoBC,EAAK,mBAAmB,EAC3DL,EAAY,UAAU,OAAO,WAAW,EAElD,CAAO,EACA,MAAMQ,GAAS,CACdJ,EAAAA,OAAO,KACL,4DACV,EACQ,QAAQ,IAAII,CAAK,CACzB,CAAO,CAEP,CAEA,SAASN,GAAa,CACpB,gBAAgB,SAAQ,EAAG,KAAKG,GAAQ,CACtC,IAAIC,EAAeD,EAAK,KACxBE,EAAaD,CAAY,EACrBA,EAAa,OAAS,KACxBN,EAAY,UAAU,IAAI,WAAW,EACrCI,SAAO,KAAK,4DAA4D,EAE9E,CAAG,CACH,CAEA,SAASG,EAAaD,EAAc,CAClC,MAAMG,EAASH,EACZ,IAAII,GACI;AAAA,iCACoBA,EAAK,sBAAsBA,EAAK;AAAA;AAAA;AAAA,0BAGvCA,EAAK;AAAA;AAAA;AAAA,0BAGLA,EAAK;AAAA;AAAA;AAAA,6BAGFA,EAAK;AAAA;AAAA;AAAA,8BAGJA,EAAK;AAAA;AAAA;AAAA,OAI9B,EACA,KAAK,EAAE,EACVX,EAAQ,mBAAmB,YAAaU,CAAM,CAChD"}