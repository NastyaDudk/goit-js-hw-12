import{i as u,S as E,a as $}from"./assets/vendor-2618a76b.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();function f(e){const n=document.createDocumentFragment();e.forEach(a=>{const{largeImageURL:r,webformatURL:t,tags:o,likes:s,views:w,comments:I,downloads:v}=a,g=document.createElement("div");g.classList.add("image-card"),g.innerHTML=`
            <a href="${r}" data-lightbox="image-set" data-title="${o}">
                <img src="${t}" alt="${o}">
                <div class="info">Likes: ${s}, Views: ${w}, Comments: ${I}, Downloads: ${v}</div>
            </a>
        `,n.appendChild(g)}),galleryContainer.appendChild(n),currentImagesCount+=e.length}const m=document.querySelector(".gallery"),c=document.getElementById("loader"),k=document.getElementById("search-form"),C=document.getElementById("load-more"),y=document.getElementById("loading-indicator");let d=1,h="";apiKey||console.error("API key is missing. Please provide the API key in the .env file.");function i(e){i.style.display=e?"block":"none"}function p(e){u.success({title:"Success",message:e,position:"topRight"})}function l(e){u.error({title:"Error",message:e,position:"topRight"})}let x=0;async function b(e,n=1){const a=`https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&page=${n}&per_page=15`;try{const r=await $.get(a);return x=r.data.totalHits,r.data.hits}catch(r){throw console.error("Error fetching images:",r),l("Failed to fetch images."),r}}async function B(){const e=m.querySelector(".image-card").getBoundingClientRect().height;window.scrollBy({top:2*e,left:0,behavior:"smooth"})}k.addEventListener("submit",async function(e){e.preventDefault(),i(!1);const n=document.getElementById("query").value.trim();if(!n){u.warning({title:"Warning",message:"Please enter a search query."});return}try{c.style.display="block",h=n,d=1;const a=await b(n,d);a.length>0?(q(a),p(`Was found: ${a.length} images`),L(),i(!0)):(m.innerHTML="",l("Sorry, there are no images matching your search query. Please try again!"),i(!1))}finally{c.style.display="none"}});C.addEventListener("click",async function(){try{c.style.display="block",y.style.display="block",d++;const e=await b(h,d);e.length>0?(f(e),p(`Loaded additional ${e.length} images`),L(),e.length<15&&(l("We are sorry, but you have reached the end of search results."),i(!1)),B()):(l("No more images to load"),i(!1))}catch(e){console.error("Error fetching images:",e),l("Failed to fetch additional images.")}finally{c.style.display="none",y.style.display="none"}});function q(e){m.innerHTML="",f(e)}function L(){lightbox&&lightbox.destroy(),lightbox=new E(".gallery a")}
//# sourceMappingURL=commonHelpers.js.map
