import{i as E}from"./assets/vendor-59215b7c.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const d=document.querySelector(".gallery"),l=document.getElementById("loader"),b=document.getElementById("search-form"),g=document.getElementById("load-more"),m=document.getElementById("loading-indicator");let c=1,f="",I=0;function s(e){g.style.display=e?"block":"none"}async function v(){const e=d.querySelector(".image-card").getBoundingClientRect().height;window.scrollBy({top:2*e,left:0,behavior:"smooth"})}b.addEventListener("submit",async function(e){e.preventDefault(),s(!1);const n=document.getElementById("query").value.trim();if(!n){E.warning({title:"Warning",message:"Please enter a search query."});return}try{l.style.display="block",f=n,c=1;const r=await searchImages(n,c);r.length>0?(w(r),toastSuccess(`Was found: ${r.length} images`),initializeLightbox(),s(!0)):(d.innerHTML="",toastError("Sorry, there are no images matching your search query. Please try again!"),s(!1))}finally{l.style.display="none"}});g.addEventListener("click",async function(){try{l.style.display="block",m.style.display="block",c++;const e=await searchImages(f,c);e.length>0?(y(e),toastSuccess(`Loaded additional ${e.length} images`),initializeLightbox(),e.length<15&&(toastError("We are sorry, but you have reached the end of search results."),s(!1)),v()):(toastError("No more images to load"),s(!1))}catch(e){console.error("Error fetching images:",e),toastError("Failed to fetch additional images.")}finally{l.style.display="none",m.style.display="none"}});function w(e){d.innerHTML="",y(e)}function y(e){const n=document.createDocumentFragment();e.forEach(r=>{const{largeImageURL:i,webformatURL:t,tags:o,likes:a,views:h,comments:p,downloads:L}=r,u=document.createElement("div");u.classList.add("image-card"),u.innerHTML=`
            <a href="${i}" data-lightbox="image-set" data-title="${o}">
                <img src="${t}" alt="${o}">
                <div class="info">Likes: ${a}, Views: ${h}, Comments: ${p}, Downloads: ${L}</div>
            </a>
        `,n.appendChild(u)}),d.appendChild(n),I+=e.length}
//# sourceMappingURL=commonHelpers.js.map
